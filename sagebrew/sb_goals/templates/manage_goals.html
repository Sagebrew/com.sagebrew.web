{% extends "layout/three-col.html" %}
{% load staticfiles %}

{% block sidebar_left %}
    {% include "manage/quest_manage_nav.html" %}
{% endblock %}

{% block sidebar_right %}
    {% include "manage/manage_right_sidebar.html" %}
{% endblock %}


{% block live %}
    <div class="block">
        <h3 class="block-title">
            Manage Goals
            <button class="pull-right btn btn-primary btn-sm toggle_create_goal"
                    id="toggle_create_goal">Add Goal <span class="fa fa-plus"></span></button>
        </h3>

        <div class="block-content">
            <div style="display: none" id="campaign_id" data-object_uuid="{{ id }}"></div>
            <div style="display: none" id="upcoming_round"
                 data-object_uuid="{{ upcoming_round }}"></div>
            <div class="sb_create_goal_wrapper">
                <div class="sb_goal sb_provide_goal">
                    <div id="create_container" style="display: none;">
                        <div class="row sb_input_wrapper">
                            <div class="col-lg-12">
                                <input class="form-control"
                                       id="goal_title"
                                       name="goal-title"
                                       placeholder="Goal Title"
                                       type="text"/>
                            </div>
                        </div>
                        <div class="row sb_input_wrapper">
                            <div class="col-xs-6">
                                <div class="input-group">
                                    <div class="input-group-addon"><span class="fa fa-check"></span></div>
                                    <input class="form-control"
                                           id="goal_vote_req"
                                           name="goal_vote_req"
                                           placeholder="Pledge Vote Requirement"
                                           type="text"/>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="input-group">
                                    <span class="input-group-addon">$</span>
                                    <input class="form-control"
                                           id="goal_monetary_req"
                                           name="goal_monetary_req"
                                           placeholder="Monetary Requirement (dollar amount only, no '.')"
                                           type="text"/>
                                </div>
                            </div>
                        </div>
                        <div class="row sb_input_wrapper">
                            <div class="col-lg-12">
                                        <textarea class="form-control"
                                                  id="goal_summary"
                                                  name="goal_summary"
                                                  placeholder="Goal Summary"
                                                  rows="2"></textarea>
                            </div>
                        </div>
                        <div class="row sb_input_wrapper">
                            <div class="col-lg-12">
                                        <textarea class="form-control"
                                                  id="goal_description"
                                                  name="goal_description"
                                                  placeholder="Goal Description (optional)"
                                                  rows="10"></textarea>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4 col-md-4">
                                <button class="btn btn-primary sb_btn sb_btn_fill edit_goal-action"
                                        id="submit_goal"
                                        data-object_uuid="{{ id }}">
                                    Submit
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="clearfix">
                <div class="pull-right" id="sb_queue_switch">
                    {% if active and not active_round %}
                        <button id="activate_round" class="btn btn-primary sb_btn sb_btn_fill"
                                style="margin-top: 5px;">Activate
                        </button>
                    {% else %}
                        <input type="checkbox" data-toggle="bootstrap-switch" id="toggle-queued"
                               name="my-checkbox"
                               data-on-text="Queued" data-off-text="Unqueued"/>
                    {% endif %}
                </div>
                <div class="pull-right">
                    <button id="submit_round" class="btn btn-primary sb_btn "
                            style="margin-top: 5px;">
                        Save
                    </button>
                </div>
            </div>

            <div class="row">
                <div class="hidden-xs col-sm-6">
                    <h4>Unused Goals</h4>

                    <div class="manage-goal-wrapper" id="existing_goals">
                    </div>
                </div>
                <div class="hidden-xs col-sm-6">
                    <h4>Next Goal Set</h4>


                    <div class="manage-goal-wrapper" id="current_goals">

                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}


{% block scripts %}
    {{ block.super }}
    <script src="{% static 'js/create_goal.js' %}"></script>
    <script src="{% static 'js/manage_goals.js' %}"></script>

{% endblock %}

{% block intercom %}
    Intercom('trackEvent', 'visited-manage-goals');
{% endblock %}