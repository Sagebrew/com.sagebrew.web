{% load staticfiles %}
{% load static %}
<div class="sb_wallpaper sb_wallpaper_action hidden-xs">
    {% static 'images/wallpaper_capitol_2.jpg' as default_wallpaper %}
    {% if is_editor or is_accountant %}
        <div id="cropQuestWallpaperPictureEyecandy">
            <img id="wallpaper_pic" alt="wallpaper image" class="sb_wallpaper_action" src="{{ wallpaper_pic|default_if_none:default_wallpaper }}">
        </div>
    {% else %}
            <img id="wallpaper_pic" alt="wallpaper image" class="sb_wallpaper_action" src="{{ wallpaper_pic|default_if_none:default_wallpaper }}">
    {% endif %}
    <div id="stripe_img" style="display: none;" data-stripe_image="{% static 'images/icon_sage.png' %}"></div>
</div>
<div class="block sb_channel_block">
    <div class="col-lg-1 col-md-2 hidden-sm hidden-xs">
           {% if is_editor or is_accountant %}
                <div id="cropQuestProfilePictureEyecandy" class="thumbnail sb_thumbnail_md">
                    <img alt="quest profile picture" id="quest_profile_pic" src="{{ profile_pic }}">
                </div>
           {% else %}
                <div class="thumbnail sb_thumbnail_md">
                    <img alt="quest profile picture" src="{{ profile_pic }}">
                </div>
           {% endif %}
    </div>
    <div class="col-md-6 cl-xs-12">
        <div class="block sb_bio_block">
            <h2 style="margin-bottom: -10px !important;">{{ first_name }} {{ last_name }}</h2>
            {% if position_formal_name %}
                <small>Running for {{ position_formal_name }}</small>
            {% else %}
                <div style="padding-bottom: 10px;"></div>
            {% endif %}
            <p id="bio_wrapper">{{ biography|default_if_none:"This Quest has no Biography" }}{% if is_editor or is_accountant %}
                <button class="btn btn-primary sb_btn_icon sb_btn_icon_green" id="show_edit_bio"><span class="fa fa-edit"></span></button>
            {% endif %}</p>
            {% if is_editor or is_accountant %}
                <div id="bio_edit" style="display: none">
                    <textarea class="form-control edit_bio_input" id="biography_input" rows="3" placeholder="Biography, limit 255 characters">{{ biography|default_if_none:"" }}</textarea>
                    <button class="btn btn-block btn-primary sb_btn_fill" id="submit_biography">Submit Bio</button>
                </div>
            {% endif %}
        </div>
    </div>
    <div class="col-lg-5 col-md-4 col-sm-12">
        <div align="right">
            {% if request.user.is_anonymous %}
                <button class="btn sb_restricted sb_btn_disabled"
                    data-toggle="tooltip"
                    data-placement="top"
                    data-title="Signup to donate!">Donate</button>
                <button class="btn sb_restricted sb_btn_disabled"
                    data-toggle="tooltip"
                    data-placement="top"
                    data-title="Signup to vote!">Pledge Vote</button>
            {% elif not request_profile.is_verified %}
                <button class="btn sb_restricted sb_btn_disabled"
                    data-toggle="tooltip"
                    data-placement="top"
                    data-title="Please verify your account">Donate</button>
                <button class="btn sb_restricted sb_btn_disabled"
                    data-toggle="tooltip"
                    data-placement="top"
                    data-title="Please verify your account">Pledge Vote</button>
            {% elif not request_profile.email_verified %}
                <button class="btn sb_restricted sb_btn_disabled"
                    data-toggle="tooltip"
                    data-placement="top"
                    data-title="Please Verify Your Email">Donate</button>
                <button class="btn sb_restricted sb_btn_disabled"
                    data-toggle="tooltip"
                    data-placement="top"
                    data-title="Please Verify Your Email">Pledge Vote</button>
            {% elif not request_profile.completed_profile_info %}
                <button class="btn sb_restricted sb_btn_disabled"
                    data-toggle="tooltip"
                    data-placement="top"
                    data-title="Please Complete Registration">Donate</button>
                <button class="btn sb_restricted sb_btn_disabled"
                    data-toggle="tooltip"
                    data-placement="top"
                    data-title="Please Complete Registration">Pledge Vote</button>
            {% else %}
                    <button class="btn btn-primary sb_btn"
                        data-toggle="modal"
                        data-target="#donationModal">Donate</button>
                    {% if allow_vote %}
                        {% if vote_type %}
                            <button id="create_vote"
                                    data-object_uuid="{{ id }}"
                                    class="btn btn-primary sb_btn">Unpledge Vote</button>
                        {% else %}
                            <button id="create_vote"
                                    data-object_uuid="{{ id }}"
                                    class="btn btn-primary sb_btn">Pledge Vote</button>
                        {% endif %}
                    {% else %}
                        <button id="create_vote"
                            data-object_uuid="{{ id }}"
                            class="btn sb_restricted"
                            data-toggle="tooltip"
                            data-placement="top"
                            data-title="Quest not in your area!">Pledge Vote</button>
                    {% endif %}
            {% endif %}
        </div>
        <div class="hidden-md hidden-sm hidden-xs">
            <div class="col-lg-9 col-lg-offset-3">
                <div align="right" class="block sb_channel_social row-fluid hidden-md hidden-sm hidden-xs">
                    {% if not facebook %}
                        <button class="btn btn-primary sb_btn_icon sb_btn_icon_green disabled"><span class="fa fa-facebook-square"></span></button>
                    {% else %}
                        <button onclick="location.href='http://facebook.com/{{ facebook }}'" class="btn btn-primary sb_btn_icon sb_btn_icon_green"><span class="fa fa-facebook"></span></button>
                    {% endif %}
                    {% if not linkedin %}
                        <button class="btn btn-primary sb_btn_icon sb_btn_icon_green disabled"><span class="fa fa-linkedin-square"></span></button>
                    {% else %}
                        <button onclick="location.href='http://linkedin.com/{{ linkedin }}'" class="btn btn-primary sb_btn_icon sb_btn_icon_green"><span class="fa fa-linkedin"></span></button>
                    {% endif %}
                    {% if not youtube %}
                        <button class="btn btn-primary sb_btn_icon sb_btn_icon_green disabled"><span class="fa fa-youtube-play"></span></button>
                    {% else %}
                        <button onclick="location.href='http://youtube.com/{{ youtube }}'" class="btn btn-primary sb_btn_icon sb_btn_icon_green"><span class="fa fa-youtube-play"></span></button>
                    {% endif %}
                    {% if not twitter %}
                        <button class="btn btn-primary sb_btn_icon sb_btn_icon_green disabled"><span class="fa fa-twitter"></span></button>
                    {% else %}
                        <button onclick="location.href='http://twitter.com/{{ twitter }}'" class="btn btn-primary sb_btn_icon sb_btn_icon_green"><span class="fa fa-twitter"></span></button>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="donationModal" tabindex="-1" role="dialog" aria-labelledby="donationModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="donationModalLabel">Donate to Quest</h4>
      </div>
      <div class="modal-body">
        How much would you like to donate to this quest?
          <ul class="nav nav-list">
            <li style="margin-bottom: 0;">
                <a class="donation-amount-selector"
                   href="#"
                   data-amount="5">
                    <p>$5</p>
                </a>
            </li>
            <li style="margin-bottom: 0;">
                <a class="donation-amount-selector"
                   href="#"
                   data-amount="10">
                    <p>$10</p>
                </a>
            </li>
            <li style="margin-bottom: 0;">
                <a class="donation-amount-selector"
                   href="#"
                   data-amount="20">
                    <p>$20</p>
                </a>
            </li>
            <li style="margin-bottom: 0;">
                <a class="donation-amount-selector"
                   href="#"
                   data-amount="50">
                    <p>$50</p>
                </a>
            </li>
            <li style="margin-bottom: 0;">
                <a class="donation-amount-selector"
                   href="#"
                   data-amount="100">
                    <p>$100</p>
                </a>
            </li>
            <li style="margin-bottom: 0;">
                <form id="customDonation">
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">$</span>
                            <input id="custom-donation"
                                   class="form-control"
                                   type="text"
                                   placeholder="Custom Dollar Amount"
                                   name="donation_amount">
                            <span class="input-group-btn">
                                <button id="custom-donation-btn" class="btn btn-default sb_btn" type="button" disabled>Confirm</button>
                            </span>
                        </div>
                    </div>
                </form>
            </li>
        </ul>
      </div>
      <div class="modal-footer">
        <div class="col-lg-6 col-md-6">
            <button type="button"
                    class="btn btn-primary sb_btn sb_btn_fill sb_btn_remove"
                    data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>