{% extends "base.html" %}
{% load i18n %}
{% load staticfiles %}
{% block title %}Conversation Cloud{% endblock title %}
{% block description %}
    <meta name="description" content="Sagebrew's Conversation Cloud is a
    place where people can ask Questions that don't have a single answer.
    People can provide, collaborate, and vote on different Solutions as
    the Community works towards the most encompassing one.">
    <meta name="fragment" content="!">
{% endblock description %}
{% block keywords %}
    <meta name="keywords" content="debate, community, nonpartisan, questions, problem solving, solutions">
{% endblock keywords %}
{% block content %}
<div class="row">
    <div class="col-xs-12 col-lg-9" style="margin-bottom: 35px;">
        <div class="sb_wall sb_conversation_wall">
            <div class="row">
                <div class="col-xs-12 col-md-11">
                    <h3>Conversations</h3>
                </div>
                <div class="col-md-1 hidden-sm hidden-xs"
                     align="right">
                    <button class="btn sb_btn sb_btn_icon sb_btn_icon_green"
                            id="advanced_filters">
                        <span class="fui-list-large-thumbnails"></span>
                    </button>
                </div>
            </div>
            <div class="row-fluid">
                <div class="hidden-sm hidden-xs sb_border sb_border_categories"
                     style="display:none;"
                     id="filter_box">
                {% for tag in base_tags %}
                    <div class="col-lg-2">
                        <a class="btn sb_tab_question query_questions-action"
                           data-tagged_as="{{ tag.default }}">{{ tag.display|title }}</a>
                    </div>
                {% endfor %}
                </div>
            </div>
            <div class="js-question-list">
                <div class="row sb_tertiary_nav" style="padding-left: 15px; padding-right: 15px;">
                    <div class="hidden-xs col-sm-2">
                        <a class="btn sb_tab_question query_questions-action active"
                           data-sort_by="-created">Most Recent</a>
                    </div>
                    <div class="hidden-xs col-sm-2">
                        <a class="btn sb_tab_question query_questions-action"
                           data-sort_by="created">Least Recent</a>
                    </div>
                    <div class="hidden-xs col-sm-2">
                        <a class="btn sb_tab_question query_questions-action"
                           data-sort_by="vote_count">Most Votes</a>
                    </div>
                    <div class="hidden-xs col-sm-2">
                        <a class="btn sb_tab_question query_questions-action"
                           data-sort_by="last_edited_on">Recent Edits</a>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 col-sm-offset-1 col-md-offset-1 col-lg-offset-1">
                         <a href="{% url 'save_question_page' %}" class='btn btn-block btn-primary sb_btn_fill' style="color: white">
                             Start a Conversation</a>
                    </div>
                </div>
                {% if html_snapshot %}
                    {% for question in questions %}
                        {% include "question_summary_include.html" %}
                    {% endfor %}
                {% else %}
                    <div id="question_wrapper">
                    </div>
                {% endif %}
                <div class="col-md-offset-3" id="js-no_result" style="display: none"><h3>Sorry! There seems to be nothing here!</h3></div>
            </div>
        </div>
    </div>
    {%  include "side_content.html" %}
</div>

{% endblock %}

{% block scripts %}
    {{ block.super }}
    {% if not html_snapshot %}
        <script src="{% static 'js/query_questions.js' %}"></script>
    {% endif %}
    <script src="{% static 'js/question_ui.js' %}"></script>
    <script src="{% static 'js/toggle_filters.js' %}"></script>
{% endblock scripts %}

{% block intercom %}
    {% if not request.user.is_anonymous %}
        Intercom('trackEvent', 'visited-conversation-list');
    {% endif %}
{% endblock %}