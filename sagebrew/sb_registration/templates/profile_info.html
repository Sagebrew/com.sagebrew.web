{% extends "base.html" %}
{% load staticfiles %}
{% block title %} Profile Information {% endblock %}
{% block content %}
    <div class="sb_registration_block">
        <form action="/registration/profile_information/" method="POST">{% csrf_token %}
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-7 col-xs-12 ">
                    <div>
                        <h1 class="hidden-xs sb_registration_header">Profile Information</h1>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-5 col-xs-4 col-lg-offset-3 col-md-offset-3">
                        <h4 class="hidden-xs sb_registration_step">Step 1 of 3</h4>
                </div>
            </div>
            <div class="sb_deco_line hidden-xs"></div>
            <div class="row-fluid">
                <div class="col-lg-10 col-md-10 col-sm-10 col-lg-offset-1 col-md-offset-1 col-sm-offset-1">
                    <div class="alert alert-warning hidden-xs" role="alert">Fields marked * are required</div>
                </div>
            </div>
            <div class="row-fluid">
                {% for field in address_information_form %}
                    {% for error in field.errors %}
                        <div class="col-lg-10 col-md-10 col-sm-10 col-lg-offset-1 col-md-offset-1 col-sm-offset-1">
                            <div class="alert alert-danger" role="alert">{{ field.label }} : {{ error }}</div>
                        </div>
                    {% endfor %}
                {% endfor %}
            </div>

            <div class="row-fluid">
                <div class="col-lg-12">
                    <h4 class="col-lg-9 col-md-9 col-sm-10 col-lg-offset-1 col-md-offset-1 col-sm-offset-1 hidden-xs sb_registration_header">Address*</h4>
                    <h2 class="hidden-lg hidden-md hidden-sm sb_registration_step"
                        align="center">
                        Address*</h2>

                </div>
            </div>
            <div class="hidden-lg hidden-md hidden-sm sb_deco_line"></div>
            <div class="sb_line hidden-lg hidden-md hidden-sm"></div>
            <div class="row-fluid">
                <div>
                    {% for field in address_information_form %}
                        {% if field.id_for_label == "id_primary_address" or field.id_for_label == "id_street_additional" %}
                            <div class="row-fluid">
                                <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-1 col-sm-offset-1 col-xs-offset-1">
                                    <div class="form-group">
                                        {% if field.errors %}
                                            <div class="has-error">
                                        {% else %}
                                            <div class="form-group">
                                        {% endif %}
                                        {% if field.id_for_label == "id_primary_address" %}
                                            {% if field.value == None %}
                                                <input type="text"
                                                       id="sb_primary"
                                                       name="{{ field.html_name }}"
                                                       value=""
                                                       placeholder="Address Line 1"
                                                       class="form-control input-lg"
                                                       autocomplete="off">
                                            {% else %}
                                                <input type="text"
                                                       id="sb_primary"
                                                       name="{{ field.html_name }}"
                                                       value="{{ field.value }}"
                                                       placeholder="Address Line 1"
                                                       class="form-control input-lg"
                                                       autocomplete="off">
                                            {% endif %}
                                        {% elif field.id_for_label == "id_street_additional" %}
                                            {% if field.value == None %}
                                                <input type="text"
                                                       id="sb_secondary"
                                                       name="{{ field.html_name }}"
                                                       value=""
                                                       placeholder="Apt, Building, etc"
                                                       class="form-control input-lg"
                                                       autocomplete="off">
                                            {% else %}
                                                <input type="text"
                                                       id="sb_secondary"
                                                       name="{{ field.html_name }}"
                                                       value="{{ field.value }}"
                                                       placeholder="Apt, Building, etc"
                                                       class="form-control input-lg"
                                                       autocomplete="off">
                                            {% endif %}
                                        {% endif %}
                                        </div>
                                        </div>
                                    </div>
                                </div>
                        {% endif %}
                    {% endfor %}
                    <div class="row-fluid">
                        <div class="row-fluid">
                            <div class="col-lg-12">
                                <div class="col-lg-1 col-md-1"> </div>
                                    {% for field in address_information_form %}
                                        {% if field.id_for_label != "id_primary_address" and field.id_for_label != "id_street_additional" %}
                                            {% if field.id_for_label == "id_state" %}
                                                <div class="col-lg-2 col-md-2 col-sm-10 col-xs-10 col-lg-offset-0 col-md-offset-0 col-sm-offset-1 col-xs-offset-1 sb_address_fix">
                                            {% elif field.id_for_label == "id_city" or field.id_for_label == "id_postal_code" %}
                                                <div class="col-lg-4 col-md-4 col-sm-10 col-xs-10 col-lg-offset-0 col-md-offset-0 col-sm-offset-1 col-xs-offset-1 sb_address_fix">
                                            {% else %}
                                                <div>
                                            {% endif %}
                                            <div class="form-group">
                                                {% if field.errors %}
                                                    <div class="has-error">
                                                {% else %}
                                                    <div class="form-group">
                                                {% endif %}
                                                {% if field.id_for_label == "id_city" %}
                                                    {% if field.value == None %}
                                                        <input type="text"
                                                               id="sb_city"
                                                               name="{{ field.html_name }}"
                                                               value=""
                                                               placeholder="City*"
                                                               class="form-control input-lg"
                                                               autocomplete="off">
                                                    {% else %}
                                                        <input type="text"
                                                               id="sb_city"
                                                               name="{{ field.html_name }}"
                                                               value="{{ field.value }}"
                                                               placeholder="City*"
                                                               class="form-control input-lg sb-city"
                                                               autocomplete="off">
                                                    {% endif %}
                                                {% elif field.id_for_label == "id_state" %}
                                                    {% if field.value == None %}
                                                        <input type="text"
                                                               id="sb_state"
                                                               name="{{ field.html_name }}"
                                                               value=""
                                                               placeholder="State*"
                                                               class="form-control input-lg"
                                                               autocomplete="off">
                                                    {% else %}
                                                        <input type="text"
                                                               id="sb_state"
                                                               name="{{ field.html_name }}"
                                                               value="{{ field.value }}"
                                                               placeholder="State*"
                                                               class="form-control input-lg sb-city"
                                                               autocomplete="off">
                                                    {% endif %}
                                                {% elif field.id_for_label == "id_postal_code" %}
                                                    {% if field.value == None %}
                                                        <input type="text"
                                                               id="sb_zip"
                                                               name="{{ field.html_name }}"
                                                               value=""
                                                               placeholder="Zip Code*"
                                                               class="form-control input-lg sb_zip"
                                                               autocomplete="off">
                                                    {% else %}
                                                        <input type="text"
                                                               id="sb_zip"
                                                               name="{{ field.html_name }}"
                                                               value="{{ field.value }}"
                                                               placeholder="Zip Code*"
                                                               class="form-control input-lg"
                                                               autocomplete="off">
                                                    {% endif %}
                                                {% endif %}
                                                    </div>
                                                </div>
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                    {% for hidden in address_information_form.hidden_fields %}
                                        {{ hidden }}
                                    {% endfor %}
                                    </div>
                                <div class="row sb_row_continue">
                                    <div class="col-lg-4 col-md-4 col-sm-10 col-xs-10 col-lg-offset-7 col-md-offset-7 col-sm-offset-1 col-xs-offset-1 sb_address_fix">
                                        <button class="btn btn-block btn-lg btn-primary sb_btn"
                                               type="submit">Continue</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            </form>
        </div>
    <div hidden id="address_data_block" data-address_validation={{ address_key }}></div>
{% endblock %}
{% block scripts %}
    {{ block.super }}
    <script src="//d79i1fxsrar4t.cloudfront.net/jquery.liveaddress/2.4/jquery.liveaddress.min.js"></script>
    <script src="{% static 'js/address_validation.js' %}"></script>
{% endblock scripts %}

{% block intercom %}
   Intercom('trackEvent', 'address-registration');
{% endblock %}